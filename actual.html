<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AmGov Final: Campaign Game</title>
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link rel="icon" href="flag.png" type="image/png" />
    <link
      href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
    <style>
      label,
      output {
        font-family: Arial, Helvetica, sans-serif;
      }
      p {
        font-size: 0.9em;
      }
      .calculator {
        margin-top: 100px;
        line-height: 1.3;
      }
      button {
        margin-top: 10px;
        margin-bottom: 10px;
      }
      h1 {
        font-size: 1.5em;
      }
      h2 {
        font-size: 1em;
      }
    </style>
  </head>
  <body>
    <div class="calculator">
      <h1>Campaign Outcome Calculator</h1>
      <h2>
        Based on Alan Abramowitz's 2016
        <a
          href="https://pollyvote.com/en/components/models/retrospective/fundamentals-plus-models/time-for-change-model/"
          target="_blank"
          >Time-for-change model</a
        >
      </h2>
      <!--incumbent's net approval rating-->
      <label for="incumbentApprovalValue"
        >Incumbent President's net approval rating (Approval - Disapproval
        Rating) at midyear</label
      ><br />
      <input
        type="range"
        value="5"
        min="-30"
        max="30"
        name="incumbentApprovalValue"
        class="incumbentApprovalValue"
        oninput="this.nextElementSibling.value = this.value"
      />
      <output>5</output>
      <br />

      <!--annualized growthrate of real GDP-->
      <label for="annualGDPValue"
        >Annualized growth of real GDP in 2nd quarter of election year</label
      ><br />
      <input
        type="range"
        value="5"
        min="-6"
        max="6"
        step="0.1"
        name="annualGDPValue"
        class="annualGDPValue"
        oninput="this.nextElementSibling.value = this.value
      +'%'"
      />
      <output>5%</output><br />

      <!--incumbent?-->
      <label for="incumbentYN"> Presence of first-term incumbent </label>
      <select class="incumbentYN" name="incumbentYN">
        <option value="1">Yes</option>
        <option value="0">No</option>
      </select>
      <button onclick="calculateWinner()">Calculate</button>
      <output class="actual"></output>
    </div>
    <button
      onclick="location.href='minimaleffects.html'"
      class="backbutton"
      type="button"
    >
      Back
    </button>
    <script>
      function calculateWinner() {
        const incumbentApproval = document.querySelector(
          ".incumbentApprovalValue"
        ).value;
        const annualGDP = document.querySelector(".annualGDPValue").value;
        const incumbent = document.querySelector(".incumbentYN").value;
        const voteEq =
          47.26 +
          0.108 * incumbentApproval +
          0.543 * annualGDP +
          4.313 * incumbent;
        document.querySelector(".actual").value =
          "Chance the incumbent wins: " + voteEq.toFixed(2) + "%";
      }
    </script>
  </body>
</html>
